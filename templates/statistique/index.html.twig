<!DOCTYPE HTML>
<html>
<head>
<script>
window.onload = function () 
{

    let array =[];
    
    let xhr=new XMLHttpRequest();
    xhr.onload=function ()
    {
        if(this.status == 200)
        {
            console.log(JSON.parse(this.responseText));
            array = JSON.parse(this.responseText); 
            makec(array);
        }
    }
    xhr.open("GET","http://localhost:8000/json/guichetVente/",true);
    xhr.send();
    function makec(tab)
    {
         var chart = new CanvasJS.Chart("chartContainer", {
        animationEnabled: true,
        exportEnabled: true,
        theme: "light2", // "light1", "light2", "dark1", "dark2"
        title:{
            text: "Nombre de Vente par Guichet"
        },
        axisY: {
		title: "Nombre de vente",
		suffix: "billets"
	    },
        axisX: {
		title: "Guichet"
	    },
	    data: [{
		type: "column", //change type to bar, line, area, pie, etc
		//indexLabel: "{y}", //Shows y value on all Data Points
		indexLabelFontColor: "#5A5757",
		indexLabelPlacement: "outside",
		dataPoints: tab
	}]
    });
        chart.render();
    }
   

}
</script>
</head>
<body>
<div id="chartContainer" style="height: 370px; width: 60%;"></div>
<script src="https://canvasjs.com/assets/script/canvasjs.min.js"></script>
</body>
</html>